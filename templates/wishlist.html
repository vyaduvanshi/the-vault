{% extends "base.html" %}

{% block title %}Wishlist{% endblock %}

{% block extra_css_and_js %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/wishlist.css') }}">
<script src="{{ url_for('static', filename='js/wishlist.js') }}" defer></script>
{% endblock %}

{% block content %}
    <div class="container">
        <h1>My Wishlist</h1>
        {% if wishlist %}
            <table class="wishlist-table">
                <thead>
                    <tr>
                        <th>Game</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for game in wishlist %}
                    <tr>
                        <td>
                            <img src="{{ game.thumbnail }}" alt="{{ game.name }}" class="game-thumbnail">
                            {{ game.name }}
                        </td>
                        <td>${{ "%.2f"|format(game.price) }}</td>
                        <td>
                            <form action="{{ url_for('remove_from_wishlist', game_id=game.id) }}" method="POST" style="display: inline;">
                                <button type="submit" class="btn btn-danger">Remove</button>
                            </form>
                            <button onclick="addToCart('{{ game.app_id }}')" class="btn btn-primary">Add to Cart</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Your wishlist is empty.</p>
        {% endif %}
    </div>
{% endblock %}